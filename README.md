# 遠隔で行うESP32のソフトウェアアップデート
SimpleHTTPServerを使用したESP32のソフトウェアアップデート

## サーバー

### SimpleHTTPServer.py
PC等のサーバー用のコードで, Pythonの標準ライブラリの1つであるSimpleHTTPServerを実験環境として扱うためのコードです.

### BMP280_server.py
BMP280気圧センサのセンサープログラムで, アップデート後に気圧データを取得するプログラムを追加し, 追加したデータが取れるかの確認のために使用した.


### BMP280_module_server.py
BMP280気圧センサのモジュールプログラムで, アップデート後に気圧データを取得するプログラムを追加し, 追加したデータが取れるかの確認のために使用した.



## クライアント(ESP32)

### OTA.py
ESP32用のコードで, ESP32をクライアントとし遠隔更新を行うためのコードです.

### BMP280.py
これはBMP280気圧センサのセンサープログラムで, 温度データのみを取得するコードである. BMP280_module.pyと一緒にESP32に入れてください.
(現在のOTA.pyにセンサーを取得するコードは記載していません)

### BMP280_module.py
これはBMP280気圧センサの温度を算出するためのプログラムです. BMP280.pyと一緒にESP32に入れてください.


BMP280の2種のコードはデータシートにC言語で書かれていたものをPythonにし, アドレスやレジスタの設定を追加し, 温度と気圧を別々で取得できるように変更を加えものです.
センサーデータシート：https://cdn-shop.adafruit.com/datasheets/BST-BMP280-DS001-11.pdf

## 実行の仕方
サーバーでSimpleHTTPServer.pyを実行し,「OTAサーバーを起動します...」が表示されるのを確認し, クライアントでOTA.pyを実行し, ソフトウェアのアップデートを行います.

詳しいやり方は下記のQiitaに乗っているので参考にしてください.
Qiita URL：https://qiita.com/c0a21121/items/16cf2bbd1ab025109338　
